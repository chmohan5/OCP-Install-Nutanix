1. Creating install-config
openshift-install create install-config --dir /root/workspace/ocpinstall/ --log-level debug
DEBUG OpenShift Installer 4.14.34
DEBUG Built from commit 0363a65f4b5504f77bdb37fba93a3e0f4deadce1
DEBUG Fetching Install Config...
DEBUG Loading Install Config...
DEBUG   Loading SSH Key...
DEBUG   Loading Base Domain...
DEBUG     Loading Platform...
DEBUG   Loading Cluster Name...
DEBUG     Loading Base Domain...
DEBUG     Loading Platform...
DEBUG   Loading Networking...
DEBUG     Loading Platform...
DEBUG   Loading Pull Secret...
DEBUG   Loading Platform...
DEBUG   Fetching SSH Key...
DEBUG   Generating SSH Key...
? SSH Public Key /root/.ssh/id_ed25519.pub
DEBUG   Fetching Base Domain...
DEBUG     Fetching Platform...
DEBUG     Generating Platform...
? Platform nutanix
? Prism Central prism-central-url.example.com
? Port 9440
? Username username
? Password [? for help] **************
INFO Connecting to Prism Central prism-central-url.example.com
? Prism Element prism-element
? Subnet Subnet1
? Virtual IP Address for API 10.10.10.10
? Virtual IP Address for Ingress 10.10.10.11
DEBUG   Generating Base Domain...
? Base Domain example.com
DEBUG   Fetching Cluster Name...
DEBUG     Fetching Base Domain...
DEBUG     Reusing previously-fetched Base Domain
DEBUG     Fetching Platform...
DEBUG     Reusing previously-fetched Platform
DEBUG   Generating Cluster Name...
? Cluster Name cluster-name
DEBUG   Fetching Networking...
DEBUG     Fetching Platform...
DEBUG     Reusing previously-fetched Platform
DEBUG   Generating Networking...
DEBUG   Fetching Pull Secret...
DEBUG   Generating Pull Secret...
? Pull Secret [? for help] *********************************************************************************************************************************************
DEBUG   Fetching Platform...
DEBUG   Reusing previously-fetched Platform
DEBUG Generating Install Config...
INFO Install-Config created in: /root/workspace/ocpinstall

======================================================================
2. Setup proxy environment variables

export http_proxy=http://proxy-ip:8080
export https_proxy=http://proxy-ip:8080

3. Credentials CCOCTL Generation
RELEASE_IMAGE=$(openshift-install version| awk '/release image/ {print $3}')
oc adm release extract --from=$RELEASE_IMAGE --credentials-requests --included --install-config=/root/workspace/ocpinstall/install-config.yaml --to=/root/workspace/ocpinstall/
Extracted release payload created at 2024-08-01T09:40:34Z

ccoctl nutanix create-shared-secrets --credentials-requests-dir=/root/workspace//ocpinstall/ --output-dir=/root/workspace/ocpinstall/ --credentials-source-filepath=/root/workspace/ocpinstall/prism_credentials.yaml
2024/10/16 19:34:59 Saved credentials configuration to: /root/workspace/ocpinstall/manifests/openshift-cloud-controller-manager-nutanix-credentials-credentials.yaml
2024/10/16 19:34:59 Saved credentials configuration to: /root/workspace/ocpinstall/manifests/openshift-machine-api-nutanix-credentials-credentials.yaml

